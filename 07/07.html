<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>07</title>
</head>
<body>
<script>
    {
        // Temperature
        let temperature = function (temp,tempFahrenheit){
            tempFahrenheit = (temp * 9/5)+32;
        alert("В фарингейтах это: " + tempFahrenheit);
            return tempFahrenheit;
        };
        console.log(temperature(+prompt("Введите сколько сейчас градусов в цельсиях"),))
    }
    {
        // RGB
        let RGB = (r, g, b) => {
            let newR = (r < 16) ? `0${r.toString(16)}` : r.toString(16);
            let newG = (g < 16) ? `0${g.toString(16)}` : g.toString(16);
            let newB = (b < 16) ? `0${b.toString(16)}` : b.toString(16);
            // let color = '#' + newR + newG + newB;
            // if(color.length > 7) {
            //     color = color.slice(0, -1);
            // }else if (color.length === 7){
            //     return color
            // }
            // return color;
            return '#' + newR + newG + newB;
        }
        console.log(RGB(15, 11, 5))
    }
    {
        //Flats
        function getApartmentLocation(floors, flatsPerFloor, apartmentNumber) {
            floors = +prompt("Введіть кількість поверхів",'16');
            flatsPerFloor = +prompt("Введіть кількість квартир на поверсі",'4');
            apartmentNumber = +prompt("Введіть номер квартири",'17');
            let entrance = Math.ceil(apartmentNumber / (floors * flatsPerFloor));
            let floor = Math.ceil((apartmentNumber % (floors * flatsPerFloor)) / flatsPerFloor);
            return { entrance, floor };
        }
        console.log(getApartmentLocation());
    }
    {
        // Credentials
        function credentials(){
            let surname = prompt("Введите свою фамилию", "Кудрик").trim();
            let name = prompt("Введите свое имя", "Константин").trim();
            let patronymic = prompt("Введите свое отчество", "Игоревич").trim();
            surname = surname[0].toUpperCase() + surname.slice(1);
            name = name[0].toUpperCase() + name.slice(1);
            patronymic = patronymic[0].toUpperCase() + patronymic.slice(1);
            let fullName = surname+" "+name+" "+patronymic;
        return {fullName};
        }console.log(credentials())
    }
    {
        // New line
        function newLine(){
            return row.split("\n").join("\n");
        }
        let row = prompt("","Hello\nкак дела");
        let result = newLine();
        console.log(result);
    }
    {
        // Prompt OR
        let promtOr = () => +(prompt('Введите ваш возраст', '18')) || alert('Вы не ввели возраст');
        console.log(promtOr())
    }
    {
        // Login And Password
        let loginAndPassword = function loginAndPassword() {
            // Login and password
            let login = prompt('Введите логин');
            let password = prompt('Введите пароль');
            if(login === 'admin' && password === 'qwerty'){
                alert('Ви ввели все правильно');
            }else {
                alert('Ваш пароль или логин неверный');
            }
            return 'Ваш логин: ' + login+'\n' + 'Ваш пароль: ' + password
        };console.log(loginAndPassword())
    }
    {
        // For Table
        let forTable = () => {
            const arr = [
                [0, 2, 3, 4, 5],
                [2, 4, 6, 8, 10],
                [3, 6, 9, 12, 15],
                [4, 8, 12, 16, 20],
                [5, 10, 15, 20, 25]
            ];

            let tableHTML = '<table>';
            arr.forEach(subArray => {
                tableHTML += '<tr>';
                subArray.forEach(item => {
                    tableHTML += `<td>${item}</td>`;
                });
                tableHTML += '</tr>';
            });
            tableHTML += '</table>';
            return tableHTML;
        };

        document.write(forTable());
    }
    {
        // Filter Lexics
        let filterBadWords = (userInput, badWords) => {
            let wordsArray = userInput.split(' ');
            let result = wordsArray.filter(word => !badWords.includes(word)).join(' ');
            return result;
        };
        let userInput = prompt('Введіть рядок слів через пробіл', 'Шалом');
        let badWords = ['бляха', 'муха', "пляшка", "шабля"];
        let filteredResult = filterBadWords(userInput, badWords);
        console.log(filteredResult);
    }
    {
        // Currency Table
        function createExchangeTable(data) {
            const currencies = ['USD', 'EUR', 'UAH', 'PLN'];
            const exchangeRates = data.rates;

            const table = document.createElement('table');
            table.className = 'exchange-table';

            const thead = document.createElement('thead');
            const headerRow = document.createElement('tr');
            headerRow.appendChild(document.createElement('th'));

            currencies.forEach(currency => {
                const th = document.createElement('th');
                th.textContent = currency;
                headerRow.appendChild(th);
            });

            thead.appendChild(headerRow);
            table.appendChild(thead);

            const tbody = document.createElement('tbody');

            currencies.forEach((fromCurrency, rowIndex) => {
                const row = document.createElement('tr');
                const headerCell = document.createElement('th');
                headerCell.textContent = fromCurrency;
                row.appendChild(headerCell);

                currencies.forEach((toCurrency, colIndex) => {
                    const cell = document.createElement('td');
                    cell.textContent = (rowIndex === colIndex) ? '1' : (exchangeRates[toCurrency] / exchangeRates[fromCurrency]).toFixed(2);
                    row.appendChild(cell);
                });

                tbody.appendChild(row);
            });

            table.appendChild(tbody);
            document.body.appendChild(table);
        }

        fetch('https://open.er-api.com/v6/latest/USD')
            .then(res => res.json())
            .then(data => {
                createExchangeTable(data);
            })
            .catch(error => console.error('Error fetching exchange rates:', error));
    }
    {
        // Form

    }
    {
        // Array of objects sort
        function sort(arr, prop, ascending = true) {
            if (ascending) {
                return arr.sort((a, b) => {
                    if (a[prop] < b[prop]) return -1;
                    if (a[prop] > b[prop]) return 1;
                    return 0;
                });
            } else {
                return arr.sort((a, b) => {
                    if (a[prop] > b[prop]) return -1;
                    if (a[prop] < b[prop]) return 1;
                    return 0;
                });
            }
        }
        let persons = [
            {name: "Іван", age: 17},
            {name: "Марія", age: 35},
            {name: "Олексій", age: 73},
            {name: "Яків", age: 12},
        ];
        let sortedByAge = sort(persons, "age");
        console.log(sortedByAge);
    }
</script>
    <input type='number' id="firstNumber" />
    <input type='number' id="secondNumber" />
    <div id="divisionResult">
    </div>
<script>
    {
            const divisionResult = document.getElementById('divisionResult');
            const firstNumber = document.getElementById('firstNumber');
            const secondNumber = document.getElementById('secondNumber');
            const calcResult = () => {
            const num1 = parseFloat(firstNumber.value);
            const num2 = parseFloat(secondNumber.value);
            if (!isNaN(num1) && !isNaN(num2) && num2 !== 0) {
            divisionResult.innerHTML = `Результат поділу: ${num1 / num2}`;
        } else {
            divisionResult.innerHTML = 'Некоректні дані для поділу';
        }
        }
            firstNumber.oninput = secondNumber.oninput = calcResult;
    }
    {
        // Calc Func
        function calculateSleepHours(averageHours, daysInMonth) {
            const totalSleepHoursInMonth = averageHours * daysInMonth;
            return { totalSleepHoursInMonth };
        }
        const averageHours = +prompt('Среднее значение часов сна на день:', 8);
        const daysInMonth = +prompt('Количество дней в месяце:', 30);
        const result = calculateSleepHours(averageHours, daysInMonth);
        alert(`Общее количество часов потраченых на сон в месяц составляет: ${result.totalSleepHoursInMonth}`);
    }
</script>
    <input type='number' id="averageHours" />
    <input type='number' id="daysInMonth" />
    <div id="resultSleepHours">
        Результат обчислення часу сну в місяць
    </div>
<script>
    {
        // Calc Live
            const resultSleepHours = document.getElementById('resultSleepHours');
            const averageHoursInput = document.getElementById('averageHours');
            const daysInMonthInput = document.getElementById('daysInMonth');

            const calculateSleepHours = (averageHours, daysInMonth) => {
            const totalSleepHoursInMonth = averageHours * daysInMonth;
            return totalSleepHoursInMonth;
        }

            const updateResult = () => {
            const averageHours = parseFloat(averageHoursInput.value);
            const daysInMonth = parseFloat(daysInMonthInput.value);

            if (!isNaN(averageHours) && !isNaN(daysInMonth)) {
            const result = calculateSleepHours(averageHours, daysInMonth);
            resultSleepHours.innerHTML = `Общее количество часов потраченных на сон в месяце: ${result}`;
        } else {
            resultSleepHours.innerHTML = 'Некоректні дані для обчислення';
        }
        }
            averageHoursInput.oninput = daysInMonthInput.oninput = updateResult;
}
</script>
</body>
</html>